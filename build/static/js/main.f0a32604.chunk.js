(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{194:function(e,t,a){e.exports=a(402)},199:function(e,t,a){},247:function(e,t,a){},376:function(e,t,a){},399:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var n,r=a(1),o=a.n(r),c=a(60),s=a.n(c),i=(a(199),a(25)),l=a(26),u=a(29),d=a(27),p=a(28),h=a(31),m=a(21),f=a(411),b=a(419),y=a(406),E=a(407),O=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.createElement(b.a,null,r.createElement(b.a.Header,null,r.createElement(b.a.Brand,null,r.createElement("a",{href:"#brand"},"Sistema de Produ\xe7\xe3o")),r.createElement(b.a.Toggle,null)),r.createElement(y.a,null,r.createElement(E.a,{eventKey:1,href:"/"},"Operacional"),r.createElement(E.a,{eventKey:2,href:"/tatico"},"T\xe1tico"),r.createElement(E.a,{eventKey:2,href:"/estrategico"},"Estrat\xe9gico")))}}]),t}(r.Component),g=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.createElement(b.a,{fixedBottom:!0,color:"dark"},r.createElement(b.a.Brand,{href:"/home"},"Production System"),r.createElement(b.a.Collapse,null,r.createElement(b.a.Text,null,"Desenvolvido")))}}]),t}(r.Component),v=a(408),_=a(409),P=a(420),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSelect=a.handleSelect.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleSelect",value:function(e){this.props.handleSelect(e)}},{key:"renderOptions",value:function(){return this.props.options?Object(m.map)(this.props.options,function(e,t){return r.createElement("option",{key:t,value:e.value},e.label)}):[]}},{key:"render",value:function(){return r.createElement(v.a,{controlId:this.props.control_id},r.createElement(_.a,null,this.props.label),r.createElement(P.a,{componentClass:"select",placeholder:"select",onChange:this.handleSelect},r.createElement("option",{value:0},"Selecione"),this.renderOptions()))}}]),t}(r.Component),k=(a(247),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.createElement("div",{id:"container",className:"container_card"},r.createElement("div",{id:"content",className:"content_card"},r.createElement("div",{id:"header",className:"header_card"},r.createElement("h4",null,this.props.header)),r.createElement("div",{id:"body",className:"body_card"},this.props.children)))}}]),t}(r.Component)),S=a(403),w=a(418),M=a(410),C=a(374),T=a(375),R=a(404),N=a(172),D=a(354),q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderBars",value:function(){return this.props.data_key.length?Object(m.map)(this.props.data_key,function(e,t){return r.createElement(S.a,{key:t,dataKey:e.key,fill:e.color})}):null}},{key:"render",value:function(){return r.createElement(w.a,{width:this.props.width,height:this.props.heigth,data:this.props.data,margin:{top:5,right:30,left:20,bottom:5}},r.createElement(M.a,{strokeDasharray:"3 3"}),r.createElement(C.a,{dataKey:this.props.xname}),r.createElement(T.a,null),r.createElement(R.a,null),r.createElement(N.a,null),r.createElement(D.a,{y:0,stroke:"#000"}),this.renderBars())}}]),t}(r.Component),I=(a(376),a(416)),B=a(66),A=a(42),x=a.n(A),F=a(68),H=a(40),U=a.n(H),V={URL:{id:"id",idFuncionario:"idFuncionario",inicio:"inicio",fim:"fim",ano:"ano",mes:"mes",turno:"turno"},RH:{address:"https://sigerh.azurewebsites.net",routes:{HorasTrabalhadas:"/api/HorasTrabalhadas",Treinamentos:"/api/Treinamentos",Values:"/api/Values",Funcionarios:"/api/Funcionarios"}},Production:{address:"https://sigepm.azurewebsites.net",routes:{getProducaoByUsuario:"/getProducaoByUsuario",getProducaoByTurno:"/getProducaoByTurno",getProducaoByAno:"/getProducaoByAno",getProducaoByAnoMes:"/getProducaoByAnoMes",getDescricaoProduto:"/getDescricaoProduto",getAllProdutos:"/getAllProdutos",getProdutoById:"/getProdutoById",getQtdItemNegociado:"/getQtdItemNegociado",getOrigemItem:"/getOrigemItem",getAllItens:"/getAllItens",getAllNotas:"/getAllNotas",getNotasByUsuario:"/getNotasByUsuario",getAllValoresNotas:"/getAllValoresNotas",getNotasByTipoMovimentacao:"/getNotasByTipoMovimentacao",getAllProducaoPorMesTurno:"/getAllProducaoPorMesTurno",getEstoqueMP:"/getEstoqueMP"}},Sales:{address:"https://sigemv.azurewebsites.net",routes:{EventosClasses:"/api/EventosClasses/",Vendas:"/api/Vendas/",Values:"/api/Values/",Pedidos:"/api/Pedidos/",PedidosPeriodo:"/PedidosPeriodo/"}},Financial:{address:"http://trabalhosige.azurewebsites.net",routes:{Produto:"/api/Produto",Registro_De_Venda:"/api/Registro_De_Venda",Solicitacao_de_Compra:"/api/Solicitacao_de_Compra",Setors:"/api/Setors",GastosProducao:"/api/GastosProducao",Conta_Pagar:"/api/Conta_Pagar",CustoMateriaPrima:"/api/CustoMateriaPrima",SuprimentoDeCaixa:"/api/SuprimentoDeCaixa"}}},Y="SET_COST",K="SET_SELECTED_ORDER",z="SET_OPTIONS",W="SET_PRODUCTION_ORDERS",J="SET_STOCK",L=function(){var e=Object(F.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("".concat(V.Sales.address).concat(V.Sales.routes.Pedidos)).then(function(e){return e.data}).catch(function(e){return console.log(e),[]});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Q=function(e){return Object(m.map)(e,function(e){return{label:e.IdPedido.toString(),value:e.IdPedido}})},G=function(e){return{type:z,payload:e}},$=function(e){return{type:W,payload:e}},X=function(e){return{type:Y,payload:e}},Z=function(e){return{type:J,payload:e}},ee=function(e,t){return{cost_raw_material:e.operationalPage.cost_raw_material,selected_order:e.operationalPage.selected_order,options:e.operationalPage.options,production_orders:e.operationalPage.production_orders,stock:e.operationalPage.stock}},te=function(e){return{fetchCostRawMaterial:function(){U.a.get("".concat(V.Financial.address).concat(V.Financial.routes.CustoMateriaPrima)).then(function(e){return e.data}).catch(function(e){return console.log(e),0}).then(function(t){return e(X(t))}).catch(function(t){return e(X(t))})},setSelectedOrder:function(t){e(function(e){return{type:K,payload:e}}(t))},fetchOptions:function(){L().then(function(t){e(G(Q(t))),e($(t))}).catch(function(t){e(G(Q(t))),e($(t))})},getStock:function(){U.a.get("".concat(V.Production.address).concat(V.Production.routes.getEstoqueMP)).then(function(e){return e.data}).catch(function(e){return console.log(e),0}).then(function(t){return e(Z(t))}).catch(function(t){return e(Z(t))})}}},ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={data:[]},a.handleSelect=a.handleSelect.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchCostRawMaterial(),this.props.fetchOptions(),this.props.getStock()}},{key:"handleSelect",value:function(e){if(this.props.production_orders.length){var t=Object(m.find)(this.props.production_orders,function(t,a){if(t.IdPedido===Number(e.target.value))return t});this.props.setSelectedOrder(t)}}},{key:"componentWillReceiveProps",value:function(e){e.stock&&e.selected_order&&this.setState({data:[{name:e.selected_order.IdPedido,estoque:e.stock,quantidade:e.selected_order.quantidade}]})}},{key:"processQuant",value:function(){return this.props.selected_order?(console.log(this.props.stock),[{name:this.props.selected_order.IdPedido,estoque:this.props.stock,quantidade:this.props.selected_order.quantidade}]):[]}},{key:"render",value:function(){return r.createElement("div",null,r.createElement(O,null),r.createElement("div",{className:"container"},r.createElement("div",null,r.createElement("div",{className:"form"},r.createElement("h3",null,"Disponibilidade de recursos no estoque para produ\xe7\xe3o"),r.createElement(f.a,null,r.createElement(j,{label:"Ordem de produ\xe7\xe3o",control_id:"",handleSelect:this.handleSelect,options:this.props.options}))),r.createElement("div",{className:"chart"},r.createElement("div",null,r.createElement(k,{header:"Detalhes da Ordem de Produ\xe7\xe3o"},r.createElement("p",null,r.createElement("span",null,"id: "),r.createElement("span",null,this.props.selected_order?this.props.selected_order.IdPedido:"")),r.createElement("p",null,r.createElement("span",null,"quantidade: "),r.createElement("span",null,this.props.selected_order?this.props.selected_order.quantidade:"")),r.createElement("p",null,r.createElement("span",null,"data: "),r.createElement("span",null,this.props.selected_order?Object(I.a)(new Date(this.props.selected_order.dataPedido),"dd/MM/yyyy"):"")),r.createElement("p",null,r.createElement("span",null,"cliente: "),r.createElement("span",null,this.props.selected_order?this.props.selected_order.cliente:"")),r.createElement("p",null,r.createElement("span",null,"Custo de produ\xe7\xe3o: "),r.createElement("span",null,this.props.fetchCostRawMaterial&&this.props.selected_order?Math.abs(this.props.selected_order.quantidade*this.props.cost_raw_material).toFixed(2):"")))),r.createElement(q,{width:500,heigth:500,xname:"quant",data_key:[{key:"estoque",color:"blue"},{key:"quantidade",color:"red"}],data:this.state.data})))),r.createElement(g,null))}}]),t}(r.Component),ne=(n=ae,Object(B.b)(ee,te)(n)),re=a(415),oe=a(421),ce=a(414),se=a(412),ie=a(413),le=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],ue="SET_MONTH",de="SET_YEAR",pe="SET_COST",he="SET_PRODUCTION",me="SET_PRODUCTION_ORDERS",fe="SET_HOURS",be="SET_DATA",ye="SET_PRODUCT",Ee=function(e){return{type:pe,payload:e}},Oe=function(e){return{type:he,payload:e}},ge=function(e){return{type:me,payload:e}},ve=function(e){return{type:fe,payload:e}},_e=function(e){return{type:ye,payload:e}},Pe=function(){var e=Object(F.a)(x.a.mark(function e(t,a){var n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=V.Production,V.URL,e.next=3,U.a.get("".concat(n.address).concat(n.routes.getAllProducaoPorMesTurno),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then(function(e){return e.data}).catch(function(e){return console.log(e),[]});case 3:return r=e.sent,e.abrupt("return",Me(t,r));case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}(),je=function(){var e=Object(F.a)(x.a.mark(function e(t){var a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.a.get("".concat(V.RH.address).concat(V.RH.routes.HorasTrabalhadas,"/").concat(V.URL.mes,"/").concat(t+1)).then(function(e){return e.data}).catch(function(e){return console.log(e),[]});case 2:return a=e.sent,e.abrupt("return",Se(a));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),ke=function(e){var t="";return Object(m.forEach)(le,function(a,n){if(n===e)return t=a,!1}),t},Se=function(e){var t=0;return Object(m.forEach)(e,function(e,a){t+=Number(e.HorasTrabalhadasNoMes)}),t},we=function(e){var t=0;return Object(m.forEach)(e,function(e,a){t+=e.quantidade}),t},Me=function(e,t){var a=ke(e),n=Object(m.map)(t,function(e,t){if(e.mes===a)return e});return Object(m.compact)(n)},Ce=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderBars",value:function(){return this.props.data_key.length?Object(m.map)(this.props.data_key,function(e,t){return r.createElement(S.a,{key:t,stackId:e.stackId,dataKey:e.key,fill:e.color})}):null}},{key:"render",value:function(){return r.createElement(w.a,{width:this.props.width,height:this.props.heigth,data:this.props.data,margin:{top:5,right:30,left:20,bottom:5}},r.createElement(C.a,{dataKey:this.props.xname}),r.createElement(T.a,null),r.createElement(R.a,null),r.createElement(N.a,null),this.renderBars())}}]),t}(r.Component),Te=function(e){return{cost_raw_material:e.tacticalPage.cost_raw_material,month:e.tacticalPage.month,year:e.tacticalPage.year,productions:e.tacticalPage.productions,production_orders:e.tacticalPage.production_orders,data:e.tacticalPage.data,worked_hours:e.tacticalPage.worked_hours,product:e.tacticalPage.product}},Re=function(e){return{fetchCostRawMaterial:function(){U.a.get("".concat(V.Financial.address).concat(V.Financial.routes.CustoMateriaPrima)).then(function(e){return e.data}).catch(function(e){return console.log(e),0}).then(function(t){return e(Ee(t))}).catch(function(t){return e(Ee(t))})},fetchProdOrders:function(t,a){(function(e,t){var a=Object(I.a)(Object(se.a)(new Date(t,e,1)),"yyyy-MM-dd"),n=Object(I.a)(Object(ie.a)(new Date(t,e,1)),"yyyy-MM-dd");return U.a.get("".concat(V.Sales.address).concat(V.Sales.routes.PedidosPeriodo).concat(a,"/").concat(n)).then(function(e){return e.data}).catch(function(e){return console.log(e),[]})})(t,a).then(function(t){return e(ge(t))}).catch(function(t){return e(ge(t))})},fetchProduction:function(t,a){Pe(t,a).then(function(t){return e(Oe(t))}).catch(function(t){return e(Oe(t))})},fetchHoursMonth:function(t){je(t).then(function(t){return e(ve(t))}).catch(function(t){return e(ve(t))})},fetchProduct:function(){U.a.get("".concat(V.Financial.address).concat(V.Financial.routes.Produto,"/2")).then(function(e){return e.data}).catch(function(e){return console.log(e),0}).then(function(t){return e(_e(t))}).catch(function(t){return e(_e(t))})},setYear:function(t){e(function(e){return{type:de,payload:e}}(t))},setMonth:function(t){e(function(e){return{type:ue,payload:e}}(t))},setData:function(t){e(function(e){return{type:be,payload:e}}(t))}}},Ne=(a(399),function(e){return Object(B.b)(Te,Re)(e)}(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={range:{start:new Date,end:Object(oe.a)(new Date,2)}},a.handleSelectMonth=a.handleSelectMonth.bind(Object(h.a)(Object(h.a)(a))),a.handleSelectYear=a.handleSelectYear.bind(Object(h.a)(Object(h.a)(a))),a.makeRequests=a.makeRequests.bind(Object(h.a)(Object(h.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.production_orders===e.production_orders&&this.props.productions===e.productions||this.createData(e.productions,e.production_orders)}},{key:"processProductions",value:function(e){var t=0,a=0,n=0;return Object(m.forEach)(e,function(e,r){"Manh\xe3"===e.turno?t+=e.quantidade:"Tarde"===e.turno?a+=e.quantidade:"Noite"===e.turno&&(n+=e.quantidade)}),{manha:t,tarde:a,noite:n}}},{key:"getTotalProduction",value:function(e){var t=0;return Object(m.forEach)(e,function(e,a){t+=e.quantidade}),t}},{key:"createData",value:function(e,t){var a=we(t),n=this.processProductions(e),r=[{name:"algo",manha:n.manha,tarde:n.tarde,noite:n.noite,total:a}];this.props.setData(r)}},{key:"componentWillMount",value:function(){this.props.fetchCostRawMaterial()}},{key:"createYearOptions",value:function(){for(var e=this.state.range,t=[],a=Object(ce.a)(e.start);a<=Object(ce.a)(e.end);a++)t.push({label:a.toString(),value:a});return t}},{key:"createMonthOprions",value:function(){for(var e=[],t=0;t<=11;t++)e.push({label:ke(t),value:t});return e}},{key:"handleSelectMonth",value:function(e){this.props.setMonth(Number(e.target.value))}},{key:"handleSelectYear",value:function(e){this.props.setYear(Number(e.target.value))}},{key:"makeRequests",value:function(){this.props.fetchProdOrders(this.props.month,this.props.year),this.props.fetchProduction(this.props.month,this.props.year),this.props.fetchHoursMonth(this.props.month),this.props.fetchProduct()}},{key:"render",value:function(){return r.createElement("div",null,r.createElement(O,null),r.createElement("div",{className:"container"},r.createElement("div",null,r.createElement("div",null,r.createElement("h3",null,"Rela\xe7\xe3o do que foi produzido para o que foi requerido em um turno")),r.createElement("div",{className:"content"},r.createElement("div",{className:"from_chart"},r.createElement("div",{className:"form"},r.createElement(f.a,{horizontal:!0},r.createElement(j,{label:"",control_id:"control_form",handleSelect:this.handleSelectMonth,options:this.createMonthOprions()}),r.createElement(j,{label:"",control_id:"control_form",handleSelect:this.handleSelectYear,options:this.createYearOptions()}),r.createElement(re.a,{block:!0,onClick:this.makeRequests,bsStyle:"primary"},"Pesquisar"))),r.createElement(k,{header:"Detalhes"},r.createElement("p",null,r.createElement("span",null,"Horas trabalhadas no m\xeas: "),r.createElement("span",null,this.props.worked_hours?this.props.worked_hours:"")),r.createElement("p",null,r.createElement("span",null,"Custo de produ\xe7\xe3o: "),r.createElement("span",null,this.props.fetchCostRawMaterial&&this.props.productions?Math.abs(this.getTotalProduction(this.props.productions)*this.props.cost_raw_material).toFixed(2):"")),r.createElement("p",null,r.createElement("span",null,"Custo de produ\xe7\xe3o estimado: "),r.createElement("span",null,this.props.fetchCostRawMaterial&&this.props.production_orders?Math.abs(we(this.props.production_orders)*this.props.cost_raw_material).toFixed(2):"")),r.createElement("p",null,r.createElement("span",null,"Valor de produ\xe7\xe3o: "),r.createElement("span",null,this.props.fetchCostRawMaterial&&this.props.productions?Math.abs(this.getTotalProduction(this.props.productions)*this.props.product.preco).toFixed(2):"")),r.createElement("p",null,r.createElement("span",null,"Valor de produ\xe7\xe3o estimado: "),r.createElement("span",null,this.props.fetchCostRawMaterial&&this.props.production_orders?Math.abs(we(this.props.production_orders)*this.props.product.preco).toFixed(2):"")))))),r.createElement("div",{className:"chart"},r.createElement(Ce,{width:500,heigth:500,xname:"Produ\xe7\xe3o por turno",data_key:[{key:"manha",color:"blue",stackId:"a"},{key:"tarde",color:"red",stackId:"a"},{key:"noite",color:"green",stackId:"a"},{key:"total",color:"#400080",stackId:null}],data:this.props.data}))),r.createElement(g,null))}}]),t}(r.Component)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var De=a(417),qe=a(422),Ie=a(423),Be=a(65),Ae=a(32),xe={},Fe={},He=Object(Be.b)({operationalPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(Ae.a)({},e,{cost_raw_material:t.payload});case J:return Object(Ae.a)({},e,{stock:t.payload});case K:return Object(Ae.a)({},e,{selected_order:t.payload});case z:return Object(Ae.a)({},e,{options:t.payload});case W:return Object(Ae.a)({},e,{production_orders:t.payload});default:return e}},tacticalPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(Ae.a)({},e,{cost_raw_material:t.payload});case be:return Object(Ae.a)({},e,{data:t.payload});case ue:return Object(Ae.a)({},e,{month:t.payload});case de:return Object(Ae.a)({},e,{year:t.payload});case ye:return Object(Ae.a)({},e,{product:t.payload});case fe:return Object(Ae.a)({},e,{worked_hours:t.payload});case he:return Object(Ae.a)({},e,{productions:t.payload});case me:return Object(Ae.a)({},e,{production_orders:t.payload});default:return e}}});s.a.render(o.a.createElement(B.a,{store:Object(Be.c)(He)},o.a.createElement(De.a,null,o.a.createElement(qe.a,null,o.a.createElement(Ie.a,{path:"/",exact:!0,component:ne}),o.a.createElement(Ie.a,{path:"/tatico",component:Ne})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[194,2,1]]]);
//# sourceMappingURL=main.f0a32604.chunk.js.map